<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	<title>Document</title>
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/style.css">
	<style type="text/css">
	</style>
</head>
<body>	
	<div class="wrap">
		<div class="logo"><img src="images/logo.png" alt=""><img src="images/title.png" alt=""></div>	
		<div id="main">
			<div class="left">
				<div id="l_one"><img src="images/visit.png"><img src="images/contract.png"></div>
				<div id="l_two"><img src="images/admin.png"><img src="images/guides.png"></div>
				<div id="l_three"><img src="images/expo.png"><img src="images/test.png"></div>
			</div>
			<div class="right">
				<div id="r_one"><img src="images/date.png"><img src="images/sina.png"></div>
				<div id="r_two"><img src="images/service.png"><img src="images/tencent.png"></div>
				<div id="r_three"><img src="images/public.png"><img src="images/wechat.png"></div>
			</div>
		</div>
	</div>
	<div class="date">
		<div class="dat1"><span>32</span><img src="images/cloud.png"></div>
		<div class="dat2">
			<div class="dat2_1">
				<div>WIND DIRECTION</div>
				<div class="d1">4-5级</div>
			</div>
			<div class="dat2_2">
				<div>DATE</div>
				<div class="d1">2015/01/27</div>
			</div>
		</div>
		<div class="dat3">
			<span>MON</span>
			<span>TUE</span>
			<span>WED</span>
			<span>THU</span>
			<span>FRI</span>
			<span>SAT</span>
			<span>SUN</span>
		</div>				
	</div>
	<div class="footer">ALL RIGHT RESEERVED 广东省旅游局版权所有 备案/许可证编号:粤ICP备09138890号</div>
</body>
<script type="text/javascript">
	var oMain = document.getElementById('main');
	var oimg = oMain.getElementsByTagName('img');
	var classArr = new Array('animation1','animation2','animation3');

	//产生一个随机数座位下标给元素添加动画,如果当前元素有动画则跳过，没有则添加
	var fnAnimation = function(){
		var num = fnRandom(0,11);
		mark = oimg[num].mark;
		if (!mark) {
			mark = true;

			fnMove(oimg[num],mark);
		};
	}


	//每个1秒轮询一次添加动画
	fnAnimation();//第一次的动画
	(function(){
		if (otimer) {
			clearInterval(otimer);
		};
		var otimer = setInterval(fnAnimation, 1000);
	})();
	

	//随机数字函数
	function fnRandom(m,n){
		var num = Math.round(Math.random()*(n-m) + m);

		return num;
	}

	//添加动画函数：
	function fnMove(obj,mark){
		if (timer) {
			clearInterval(timer);
		};

		if (mark) {
			//随机数字函数产生数字当作下标获取到相应的动画类
			var num = fnRandom(0,2);
			var myclass = classArr[num];

			obj.setAttribute('class', myclass);

			// 执行完之后删除这个类，以便下次添加动画类
			var timer = setTimeout(function(){
				obj.setAttribute('class', '');
				mark = false;//重置动画条件
				// console.log('x');
			}, 2500);
		};
	}
</script>
</html>
